<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#0b0b12" />
    <title>Watermelon (Suika) Game</title>
    <style>
      html, body { height:100%; margin:0; padding:0; }
      body {
        /* Fullscreen centered container */
        display:flex; align-items:center; justify-content:center;
        min-height:100%;
        background: linear-gradient(180deg,#0f172a,#0b1222);
        color:#fff;
        overscroll-behavior:none; touch-action:none;
        padding: env(safe-area-inset-top) env(safe-area-inset-right)
                 env(safe-area-inset-bottom) env(safe-area-inset-left);
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
      }

      #app { width:100%; height:100%; display:flex; align-items:center; justify-content:center; }

      .game-shell { 
        position:relative;
        display:grid; place-items:center;
        /* Keep logical aspect; letterbox with width-constrained box */
        aspect-ratio: 9 / 16;
        width: min(100vw, 100vh * 9/16);
        height: auto;
        max-height: 100vh;
      }

      .canvas-wrap { 
        position: relative; 
        background: #0e0e18; 
        box-shadow: 0 0 0 2px rgba(255,255,255,0.06) inset; 
        border-radius: 12px; 
        overflow: hidden;
        width: 100%;
        height: 100%;
      }

      canvas#game {
        width:100%; height:100%;
        display:block;
        user-select:none; -webkit-user-select:none;
        touch-action:none; image-rendering:auto;
      }

      .ui { position: absolute; inset: 0; pointer-events: none; }
      .hud { position: absolute; top: 12px; left: 12px; right: 12px; display: flex; align-items: center; justify-content: space-between; gap: 8px; pointer-events: none; }
      .hud .left, .hud .right { display: flex; align-items: center; gap: 8px; }
      .pill { background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.12); border-radius: 999px; padding: 6px 10px; font-weight: 600; letter-spacing: 0.2px; pointer-events: auto; }
      .btn { cursor: pointer; user-select: none; transition: transform 0.08s ease; }
      .btn:active { transform: translateY(1px) scale(0.98); }
      .stack { display: inline-flex; align-items: center; gap: 8px; }
      .preview { display: inline-flex; align-items: center; gap: 6px; }
      .preview canvas { width: 36px; height: 36px; filter: drop-shadow(0 2px 4px rgba(0,0,0,0.4)); }
      .center-overlay { position: absolute; inset: 0; display: grid; place-items: center; pointer-events: none; }
      .dialog { background: rgba(15,15,24,0.9); border: 1px solid rgba(255,255,255,0.15); border-radius: 12px; padding: 16px 18px; text-align: center; backdrop-filter: blur(4px); box-shadow: 0 10px 30px rgba(0,0,0,0.35); pointer-events: auto; }
      .hidden { display: none !important; }
      .letterbox { position: absolute; inset: 0; pointer-events: none; }
      .bar { position: absolute; left: 0; right: 0; height: 0; background: #0b0b12; }
      .bar.top { top: 0; }
      .bar.bottom { bottom: 0; }
    </style>
    <script type="module" crossorigin src="./assets/index-BBqC3K1k.js"></script>
  </head>
  <body>
    <div id="app">
      <div class="game-shell">
        <div class="canvas-wrap" id="canvas-wrap">
          <canvas id="game"></canvas>
          <div class="ui">
            <div class="hud">
              <div class="left">
                <div class="pill" id="score">Score: 0</div>
                <div class="pill" id="best">Best: 0</div>
                <div class="pill preview">
                  <span>Next:</span>
                  <canvas id="preview" width="64" height="64"></canvas>
                </div>
              </div>
              <div class="right">
                <div class="pill btn" id="btn-sound">üîä</div>
                <div class="pill btn" id="btn-pause">‚è∏</div>
                <div class="pill btn" id="btn-restart">‚Üª</div>
              </div>
            </div>
            <div class="center-overlay">
              <div class="dialog hidden" id="dialog">
                <div style="font-weight:700;margin-bottom:6px">Game Over</div>
                <div style="opacity:.8;margin-bottom:10px">Tap/Press ‚Üª to restart</div>
                <button class="pill btn" id="btn-dialog-restart">Restart</button>
              </div>
            </div>
          </div>
          <div class="letterbox">
            <div class="bar top" id="bar-top"></div>
            <div class="bar bottom" id="bar-bottom"></div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
